\chapter{Preliminaries}

\section{Introduction}
To be written once we know where everything is going to go.

%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Coxeter System}\label{sec:coxeter}
A \emph{Coxeter System} is a pair $(W,S)$ consisting of a finite set $S$ of generating involutions and a group $W$, called a \emph{Coxeter Group}, with presentation 
\[ 
W = \langle S \mid (st)^{m(s, t)} = e \text{ for } m(s, t) < \infty \rangle,
\]
where $e$ is the identity, $m(s,t) = 1$ if and only if $s = t$, and $m(s,t) = m(t,s)$. It turns out that the elements of $S$ are distinct as group elements and that $m(s,t)$ is the \emph\emph{order} of $st$~\cite{Humphreys1990}. We call $m(s,t)$ the \emph{bond strength} of $s$ and $t$.\\

Since $s$ and $t$ are elements of order 2, the relation $(st)^{m(s,t)}=e$ can be written as
\begin{equation}\label{braid} 
	\underbrace{sts \cdots}_{m(s,t)}=\underbrace{tst\cdots}_{m(s,t)}
\end{equation}
with $m(s,t) \geq 2$ factors. If $m(s,t)=2$, then $st=ts$ is called a \emph{short braid relation} and $s$ and $t$ commute. Otherwise, if $m(s,t) \geq 3$, then the relation in \eqref{braid} is called a \emph{long braid relation}. Replacing $\underbrace{sts\cdots}_{m(s,t)}$ with $\underbrace{tst\cdots}_{m(s,t)}$ will be referred to as a \emph{braid move}.\\

We can represent a Coxeter System, $(W,S)$, with a unique \emph{Coxeter graph}, $\Gamma$, having
\begin{enumerate}
\item vertex set $S=\{s_1, s_2, \ldots, s_n\}$ and
\item edges $\{s_i, s_j\}$ for each $m(s,t) \geq 3$.	
\end{enumerate}
Each edge $\{s_i, s_j\}$ is labeled with its corresponding bond strength $m(s,t)$. Since $m(s,t)=3$ occurs most frequently, it is customary to leave the edge unlabeled. If $(W,S)$ is a Coxeter group with corresponding Coxeter system $\Gamma$, we may denote the group as $W(\Gamma)$ for emphasis. There is a one-to-one correspondence between Coxeter systems and Coxeter graphs. Given a Coxeter graph $\Gamma$, we can uniquely reconstruct the corresponding Coxeter system. Note that $s$ and $t$ are not connected in the graph if and only if $m(s,t)=2$. Also, the Coxeter group $W(\Gamma)$ is said to be \emph{irreducible} if and only if $\Gamma$ is connected. Otherwise, $W(\Gamma)$ is said to be \emph{reducible}. Furthermore, if the graph is disconnected, the connected components correspond to factors in a direct product of irreducible Coxeter groups~\cite{Humphreys1990}.\\

\begin{example}
~
\begin{itemize}
\item[(a)~] The Coxeter graph of type $A_n$ is seen in Figure \textcolor{red}{reference the proper figure}. Given $A_n$, we can construct the corresponding Coxeter system, $W(A_n)$, with generating set $S=\{s_1, s_2, \ldots s_n\}$ and defining relations
\begin{enumerate}
	\item $s_i^2=e$ for all $i$
	\item $s_is_j=s_js_i$ when $|i-j|>1$
	\item $s_is_js_i=s_js_is_j$ when $|i-j|=1.$
\end{enumerate}
The Coxeter group $W(A_n)$ is isomorphic to the symmetric group $S_{n+1}$ elements sending $s_i \rightarrow (i, i+1)$. This thesis will briefly touch on Coxeter systems of type $A_n$.
\item[(b)~] The Coxeter graph of type $B_n$ is seen in Figure \textcolor{red}{reference the proper figure}. From $B_n$, we can construct the Coxeter group $W(B_n)$ with generating set $S=~\{s_0,s_1, \ldots s_{n-1}\}$ and defining relations
\begin{enumerate}
	\item $s_i^2=e$ for all $i$
	\item $s_is_j=s_js_i$  when $|i-j|>1$
	\item $s_is_js_i=s_js_is_j$ when $|i-j|=1$ for $i,j \in \{1,2,\ldots, n-1\}$
	\item $s_0s_1s_0s_1=s_1s_0s_1s_0$.
\end{enumerate}
The Coxeter group $W(B_n)$ is isomorphic to $S_n^B$, where $S_n^B$ is the group of all signed permutations. This thesis will also touch on Coxeter systems of type $B_n$.
\item[(c)~] The Coxeter graph of Type $\widetilde C_n$ is seen in Figure \textcolor{red}{reference the proper figure}. From $\widetilde C_n$ we can construct the Coxeter group $W(\widetilde C_n)$ with generating set $S=~\{s_0, s_1, \ldots s_n\}$ and defining relations 
\begin{enumerate}
	\item $s_i^2=e$ for all $i$
	\item $s_is_j=s_js_i$ when $|i-j|>1$ for $i \in \{1,2, \ldots, n-1\}$
	\item $s_is_js_i=s_js_is_j$ 	when $|i-j|=1$ for $i \in \{1,2, \ldots, n-1\}$
	\item $s_0s_1s_0s_1=s_1s_0s_1s_0$
	\item $s_ns_{n-1}s_ns_{n-1}=s_{n-1}s_ns_{n-1}s_n.$
\end{enumerate}
The Coxeter group $W(\widetilde C_n)$ will be touched upon in this thesis as well.
\end{itemize}
\end{example}

Given a Coxeter system, $(W,S)$, a word $s_{x_1}s_{x_2} \cdots s_{x_m}$ in the free monoid $S^*$ on $S$, is called an \emph{expression} for $w \in W$ if it is equal to $w$ when considered as a group element. If $m$ is minimal over all expressions for $w$, the corresponding word is called a \emph{reduced expression} for $w$. In this case, we define the \emph{length} of $w$ to be $l(w):= m$. Each element $w \in W$ may have multiple reduced expressions to represent it. If we wish to emphasize a specific possibly reduced expression for $w \in W$ we will represent it as $\overline{w}=s_{x_1}s_{x_2}\cdots s_{x_m}.$ The following theorem tells us more about how reduced expressions relate.

\begin{theorem} [Matsumoto, \cite{Geck2000}]
	If $w \in W$, then every reduced expression for $w$ can be obtained by a sequence of braid moves of the form
	\[\underbrace{sts\cdots}_{m(s,t)} \rightarrow \underbrace{tst\cdots}_{m(s,t)}\]
	where $s,t \in S$ and $m(s,t) \geq 2$. \qed
\end{theorem}
 
It follows from Matsumoto's Theorem that any reduced expression for $w \in W$ contains the same number of generators in the expression. Let $w \in W$ and fix a reduced expression $\overline{w}$ for $w$. Then the \emph{support} of $w$, denoted $\supp(\overline{w})$, is the set of all generators of that appear in $\overline{w}$. It follows from Matsumoto's Theorem that $s$ appears in $\supp(\overline{w})$ if and only if $s$ appears in the support of all reduced expressions for $w$. If $\supp(\overline{w})=S$, we say that $s$ has \emph{full support}. Given $w \in W$ and a fixed reduced expression $\overline{w}$ for $w$, any subsequence of $\overline{w}$ is called a \emph{subexpression} of $\overline{w}$. \\

\begin{example}
Let $w \in W(A_7)$ and let $\overline{w}=s_7s_2s_4s_5s_3s_2s_3s_6$ be a fixed expression for $w$. Then we have
\begin{align*}
s_7s_2s_4s_5s_3s_2s_3s_6&=s_7s_4s_2s_5s_3s_2s_3s_6\\
&=s_7s_4s_5s_2s_3s_2 s_3s_6\\
&=s_7s_4s_5s_3s_2s_3s_3s_6\\
&=s_7s_4s_5s_3s_2s_6.
\end{align*}
This shows that $\overline{w}$ was not reduced. However, $s_7s_4s_5s_3s_2s_6$ is reduced. Thus $l(w)=6$ and $\supp(w)=\{s_2, s_3, s_4, s_5, s_6, s_7\}$.
\end{example}

Let $w \in W(\Gamma)$. We define the \emph{left descent set} and \emph{right descent set} of $w$ as follows:
\[\mathcal{L}(w):=\{s \in S \mid l(sw) < l(w)\}\]
and
\[\mathcal{R}(w):=\{s \in S \mid l(ws) < l(w)\}.\]
It should be noted that $s \in \mathcal{L}(w)$ if and only if there is a reduced expression for $w$ that begins with $s$ and $s \in \mathcal{R}(w)$ if and only if there is a reduced expression for $w$ that ends with $s$.

\begin{example}
Let $w \in W(B_4)$ and let $\overline{w}=s_0s_1s_2s_1s_3$ be a reduced expression for $w$. Note that all reduced expressions for $w$ are as follows 
$$\begin{array}{ll}
s_0s_1s_2s_1s_3 & s_0s_2s_1s_2s_3\\
s_0s_1s_2s_3s_1 & s_2s_0s_1s_2s_3.	
\end{array}$$
We see that $l(w)=5$, and $w$ has full support. Note that $\mathcal{L}(w)=\{s_0, s_2\}$ and $\mathcal{R}(w)=\{s_1, s_3\}$.	
\end{example}


%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{Fully Commutative Elements}\label{sec:FC}
Let $(W,S)$ be a Coxeter system of type $\Gamma$ and let $w \in W$. Following~\cite{Stembridge1996}, we define a relation $\sim$ on the set of reduced expressions for $w$. Let $\overline{w}_1$ and $\overline{w}_2$ be two reduced expressions for $w$. We define $\overline{w}_1 \sim \overline{w}_2$ if we can obtain $\overline{w}_2$ from $\overline{w}_1$ by applying a single braid move of the form $s_is_j \mapsto s_js_i$ where $m(s_i,s_j)=2$. Now, define the equivalence relation $\approx$ by taking the reflexive transitive closure of $\sim$. Each equivalence class under $\approx$ is called a \emph{commutation class}. If $w$ has a single commutation class, then we say that $w$ is \emph{fully commutative}, or just FC. 

The set of fully commutative elements of $W(\Gamma)$ is denoted by $\FC(\Gamma)$. We say that a reduced expression $\overline{w}$ is $\FC$ if it is a reduced expression for $w \in \FC(\Gamma)$. Given some $w \in \FC(\Gamma)$, the definition of fully commutative tells us that to obtain all the reduced expressions for $w$, one must only perform short braid moves. The following theorem tells us that the we can not obtain a reduced expression for $w$ using long braid relations.

\begin{theorem}[Stembridge,~\cite{Stembridge1996}]
	An element $w \in W$ is FC if and only if no reduced expression for $w$ contains $\underbrace{sts\cdots}_{m(s,t)}$ as a subword for all $s_i \neq s_j$ when $m(s,t) \geq 3$. \qed
\end{theorem}

\begin{example}
	Let $w \in W(\widetilde{C}_4)$ and let $\overline{w}=s_0s_1s_2s_0s_3s_1$ be a reduced expression for $w$. We see that
	\[s_0s_1\textcolor{purple}{s_2s_0}s_3s_1=s_0s_1s_0s_2\textcolor{purple}{s_3s_1}=s_0s_1s_0s_2s_1s_3,\]
	where the purple indicates applying a short braid relation. Note that there is no way possible to perform a long braid relation. Hence $w$ is $\FC$.
\end{example}

\begin{example}
Let $w \in W(\widetilde{C}_4)$ and let $\overline{w}=s_0s_1s_2s_0s_1s_2$ be a reduced expression for $w$. We see that
\[s_0s_1\textcolor{purple}{s_3s_0}s_1s_2=s_0s_1s_0\textcolor{purple}{s_3s_1}s_2=\textcolor{blue}{s_0s_1s_0s_1}s_3s_2,\]
where the purple indicates applying a short braid relation and the blue indicates applying a long braid relation. Thus $w$ is not $\FC$ since a long braid relation can be applied.  	
\end{example}

Stembridge classified the irreducible Coxeter groups that contain a finite number of fully commutative elements, the so-called \emph{FC-finite Coxeter groups}. This thesis is mainly concerned with $W(A_n),~W(B_n),~W(\widetilde{C}_n)$. Both $W(A_n),~W(B_n)$ are finite Coxeter groups, and thus are $\FC$ finite. On the other hand $W(\widetilde{C}_n)$ is infinite and has infinitely many $\FC$ elements. However, there exist some infinite Coxeter groups that contain finitely many $\FC$ elements. For example, $E_n$ for $n \geq 9$ are infinite \textcolor{red}{cite coxeter graph figure}, but contain only finitely many fully commutative elements.

\begin{theorem}[Stembridge,~\cite{Stembridge1996}]
\label{thm:FCfinite} The FC-finite irreducible Coxeter groups are of type $A_n$ with $n \geq 1$, $B_n$ with $n \geq 2$, $D_n$ with $n \geq 4$, $E_n$ with $n \geq 6$, $F_n$ with $n \geq 4$, $H_n$ with $n \geq 3$, and $I_2(m)$ with $5 \leq m < \infty$. The corresponding Coxeter graphs are shown in \textcolor{red}{reference coxeter graph figure}. \qed
\end{theorem}
  


%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{Heaps}\label{sec:Heaps}

We can now discuss another representation of Coxeter group elements. Each reduced expression can be associated with a labeled partially ordered set (poset) called a heap.  Heaps provide a visual representation of a reduced expression while preserving the relations among the generators. We follow the development of heaps of straight line Coxeter groups in~\cite{Billey2007},~\cite{Ernst2010} and~\cite{Stembridge1996}. 

Let $(W,S)$ be a Coxeter system. Suppose $\overline{w}=s_{x_1}s_{x_2}\cdots s_{x_r}$ is a fixed reduced expression for $w \in W$. As in~\cite{Stembridge1996}, we define a partial ordering on the indices $\{1, 2, \ldots, r\}$ by the transitive closure of the relation $\lessdot$ defined via $j \lessdot i$ if $i < j$ and $s_{x_i}$ and $s_{x_j}$ do not commute. In particular since $\overline{w}$ is reduced, $j \lessdot i$ if $s_{x_i}=s_{x_j}$ by transitivity. This partial order is referred to as the \emph{heap} of $\overline{w}$, where $i$ is labeled by $s_{x_i}$. Note that for simplicity we are omitting the labels of the underlying poset but retaining the labels of the corresponding generators.

It follows from~\cite{Stembridge1996} that heaps are well-defined up to commutation class. That is, given two reduced expressions $\overline{w}$ and $\overline{w'}$ for $w \in W$ that are in the same commutation class, then the heaps for $\overline{w}$ and $\overline{w'}$ will be equal. In particular, if $w \in \FC(\Gamma)$, then $w$ has a one commutation class, and thus $w$ has a unique heap.

\begin{example}
Let $\overline{w}=s_1s_0s_4s_1s_3s_5s_2s_4s_6$ for $w \in \FC(\widetilde{C}_6).$ We see that $\overline{w}$ is indexed by $\{1,2,3,4,5,6,7,8,9\}$. As an example, $1 \lessdot 0$ since $0 <1$ and $s_0$ and $s_1$ do not commute. The labeled Hasse diagram for the heap poset is seen in Figure~\ref{fig:Hasse}.
\begin{figure}[h]
\centering
\begin{tikzpicture}[scale=0.3]
	\node[scale=0.6, label=above:$s_{2}$] at (2,5.5) {$\bullet$};
	\node[scale=0.6, label=above:$s_{4}$] at (4,5.5) {$\bullet$};
	\node[scale=0.6, label=above:$s_{6}$] at (6,5.5) {$\bullet$};
	\node[scale=0.6, label=above:$s_{1}$] at (1,4.5) {$\bullet$};
	\node[scale=0.6, label=above:$s_{3}$] at (3,4.5) {$\bullet$};
	\node[scale=0.6, label=above:$s_{5}$] at (5,4.5) {$\bullet$};
	\node[scale=0.6, label=above:$s_{0}$] at (0,3.5) {$\bullet$};
	\node[scale=0.6, label=above:$s_{4}$] at(4,3.5) {$\bullet$};
	\node[scale=0.6, label=above:$s_{1}$] at (1,2.5) {$\bullet$};
\draw (1,2.5)--(0,3.5)--(1,4.5)--(2,5.5)--(3,4.5)--(4,3.5);
\draw (3,4.5)--(4,5.5)--(5,4.5)--(4,3.5);
\draw (6,5.5)--(5,4.5);
\end{tikzpicture}
\caption{Labeled Hasse Diagram for the heap of an element of $\FC(\widetilde{C}_n)$}
\label{fig:Hasse}	
\end{figure}
\end{example}

Let $\overline{w}$ be a reduced expression for an element in $w \in W(\widetilde{C}_n)$. As in~\cite{Billey2007} and~\cite{Ernst2010} we can represent a heap for $\overline{w}$ as a set of lattice points embedded in $\{0,1,2,\ldots, n\} \times \mathbb{N}$. To do so, we assign coordinates (not unique) $(x,y) \in \{0,1,2,\ldots, n\} \times \mathbb{N}$ to each entry of the labeled Hasse diagram for the heap of $\overline{w}$ in such a way that:
\begin{enumerate}
\item An entry with coordinates $(x,y)$ is labeled $s_i$ (or $i$) in the heap if and only if $x = i$; 

\item If an entry with coordinates $(x,y)$ is greater than an entry with coordinates $(x',y')$ in the heap then $y > y'$.
\end{enumerate}

Although the above is specific to $W(\widetilde{C}_n)$, the same construction works for any straight line Coxeter graph with the appropriate adjustments made to the lattice point set and assignments of coordinates. In the case of any straight line Coxeter graph it follows from the definition that $(x,y)$ covers $(x',y')$ in the heap if and only if $x = x' \pm 1$, $y > y'$, and there are no entries $(x'', y'')$ such that $x'' \in \{x, x'\}$ and $y'< y'' < y$. This implies that we can completely reconstruct the edges of the Hasse diagram and the corresponding heap poset from a lattice point representation. The lattice point representation can help us visualize arguments that are potentially complex. Note that in our heaps the entries in the top correspond to the generators occurring in the right of the corresponding reduced expression.

Let $\overline{w}$ be a reduced expression for $w \in W(\widetilde{C}_n)$. We denote the lattice representation of the heap poset in $\{0,1,2, \ldots n\} \times n$ described in the preceding paragraphs via $H(\overline{w})$. If $w$ is $\FC$, then the choice of reduced expression for $w$ is irrelevant and we will often write $H(w)$ (note the absence of \textsf{sans serif} font) and we refer to $H(w)$ as the heap of $w$. As above the necessary adjustments to the lattice representation will result in a general result for heaps of all straight line coxeter graphs.

Given a heap, there are many possible coordinate assignments, yet the $x$-coordinates will be fixed for each entry will be fixed for all of them. In particular, two entries labeled by the same generator will only differ by the amount of vertical space between them while they will maintain the same horizontal position to adjacent entries in the heap.

Let $\overline{w}=s_{x_1}s_{x_2}\cdots s_{x_r}$ be a reduced expression for $w \in W(\widetilde{C}_n)$. If $s_{x_i}$ and $s_{x_j}$ are adjacent generators in the Coxeter graph with $i<j$ then we must place the point labeled by $s_{x_j}$ at a level that is \emph{above} the level of the point labeled by $s_{x_i}$. Because generators in a Coxeter graph that are not adjacent do commute, points whose $x$-coordinates differ more than one can slide past each other or land in the same level. To emphasize the covering relations of the lattice point representation we will enclose each entry in the heap in a square with rounded corners in such a way that if one entry covers another the squares overlap halfway. In addition, we will also label each square with $i$ representing the generator $s_i$.

\begin{example}
	Let $\overline{w}=s_1s_0s_4s_1s_3s_5s_2s_4s_6$ for $w \in \FC(\widetilde{C}_6)$ as seen in Example 1.4.1. Figure~\ref{fig:FC heap} shows a possible lattice point representation for $H(w)$.
\begin{figure}[h]
\centering
\begin{tikzpicture}[scale=0.4]
\heapblock{2}{6}{2}{purple}
\heapblock{4}{6}{4}{purple}
\heapblock{6}{6}{6}{purple}
\heapblock{1}{4}{1}{purple}
\heapblock{3}{4}{3}{purple}
\heapblock{5}{4}{5}{purple}
\heapblock{0}{2}{0}{purple}
\heapblock{4}{2}{4}{purple}
\heapblock{1}{0}{1}{purple}
\end{tikzpicture}
\caption{A possible lattice point representation of for $H(w)$}
\label{fig:FC heap}
\end{figure}
\end{example}

\begin{example}
Let $\overline{w}_1=s_1s_2s_3s_4s_2s_0$ be a reduced expression for $w \in W(\widetilde{C}_n)$. Applying the commutation $s_4s_2=s_2s_4$, we can obtain another reduced expression for $w$, namely $\overline{w}_2$ which is in the same commutation class as $\overline{w_1}$ and hence has the same heap. However, applying the braid move $s_2s_3s_2=s_3s_2s_3$, we obtain another reduced expression $\overline{w_3}=s_1s_3s_2s_3s_4s_0$. Note that since $\overline{w}_3$ was obtained by applying a braid move, $\overline{w_3}$ is in a different commutation class than $\overline{w_1}$ and $\overline{w_2}$. Representations of $H(\overline{w}_1), H(\overline{w}_2)$ and $H(\overline{w_3})$ are seen in Figure~\ref{fig:not FC} where the braid relation is colored in orange.

\begin{figure}[h]
\centering
\begin{subfigure}[b]{0.3\textwidth}	
\centering
\begin{tikzpicture}[scale=0.4]
\heapblock{0}{6}{0}{purple}
\heapblock{2}{6}{2}{orange}
\heapblock{4}{6}{4}{purple}	
\heapblock{3}{4}{3}{orange}
\heapblock{2}{2}{2}{orange}
\heapblock{1}{0}{1}{purple}
\end{tikzpicture}
\caption{$H(\overline{w}_1)$ and $H(\overline{w}_2)$}
\end{subfigure}
\begin{subfigure}[b]{0.3\textwidth}	
\centering
\begin{tikzpicture}[scale=0.4]
\heapblock{10}{6}{0}{purple}
\heapblock{14}{6}{4}{purple}
\heapblock{13}{4}{3}{orange}
\heapblock{12}{2}{2}{orange}
\heapblock{11}{0}{1}{purple}
\heapblock{13}{0}{3}{orange}
\end{tikzpicture}
\caption{$H(\overline{w}_3)$}
\end{subfigure}
\caption{Two Heaps of a non-FC element}	
\label{fig:not FC}
\end{figure}
\end{example}

When $w$ is $\FC$, we wish to make a canonical choice for the representation of $H(w)$ by assembling the entries in a particular way. To do so, we position all of the entries corresponding to elements in $\mathcal{L}(w)$ in the same vertical position, and all of the remaining elements should be positioned as high as possible in the lattice point representation. For example, the representation in Figure~\ref{fig:FC heap} is the canonical representation for $w$. Note that our canonical representation of heaps corresponds to Cartier-Foata normal form for monomials~\cite{Cartier1969, Green2006a}. When illustrating heaps we will stick to the canonical choice, and when illustrating the heaps of arbitrary reduced expressions we will discuss the relative position of the entries but never the absolute coordinates. 